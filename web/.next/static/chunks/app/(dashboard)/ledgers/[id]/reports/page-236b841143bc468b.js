(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3084],{1233:function(e,s,t){Promise.resolve().then(t.bind(t,4120))},9205:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var r=t(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:i="",children:c,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:s,...a,width:n,height:n,stroke:t,strokeWidth:o?24*Number(d)/Number(n):d,className:l("lucide",i),...m},[...u.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),o=(e,s)=>{let t=(0,r.forwardRef)((t,a)=>{let{className:o,...i}=t;return(0,r.createElement)(d,{ref:a,iconNode:s,className:l("lucide-".concat(n(e)),o),...i})});return t.displayName="".concat(e),t}},2660:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2735:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8736:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7168:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4502:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]])},525:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return n.a}});var r=t(2972),n=t.n(r)},4120:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var r=t(7437),n=t(2265),l=t(7648),a=t(2660),d=t(1047),o=t(7168),i=t(4502),c=t(2735),u=t(525),m=t(8736);let x=(0,t(9205).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function h(e){var s,t,h,f,p,v,j,b,g,y,N,w,k,Z,_,C,F,M,S,E;let{params:L}=e,{id:$}=(0,n.use)(L),R=new Date().getFullYear(),[O,T]=(0,n.useState)(R),[B,H]=(0,n.useState)(!0),[q,A]=(0,n.useState)({trialBalance:null,profitLoss:null,runway:null});(0,n.useEffect)(()=>{!async function(){H(!0);try{let[e,s,t]=await Promise.all([fetch("/api/ledgers/".concat($,"/reports?type=trial-balance")),fetch("/api/ledgers/".concat($,"/reports?type=profit-loss&year=").concat(O)),fetch("/api/ledgers/".concat($,"/reports?type=runway"))]),[r,n,l]=await Promise.all([e.json(),s.json(),t.json()]);A({trialBalance:r,profitLoss:n,runway:l})}catch(e){console.error("Failed to load reports:",e)}H(!1)}()},[$,O]);let P=async(e,s)=>{try{let t=await fetch("/api/ledgers/".concat($,"/reports"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report_type:e,format:s,year:O})}),r=await t.json();if(r.download_url)window.open(r.download_url,"_blank");else if(r.data){let s=new Blob([JSON.stringify(r.data,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),n=document.createElement("a");n.href=t,n.download="".concat(e,"-").concat(O,".json"),n.click()}}catch(e){console.error("Export failed:",e)}},{trialBalance:z,profitLoss:D,runway:I}=q,U=(null==D?void 0:D.success)!==!1?{line1:(null==D?void 0:null===(s=D.revenue)||void 0===s?void 0:s.total)||0,line4:(null==D?void 0:null===(t=D.revenue)||void 0===t?void 0:t.total)||0,line27:(null==D?void 0:null===(h=D.expenses)||void 0===h?void 0:h.total)||0,line28:(null==D?void 0:null===(f=D.expenses)||void 0===f?void 0:f.total)||0,line29:((null==D?void 0:null===(p=D.revenue)||void 0===p?void 0:p.total)||0)-((null==D?void 0:null===(v=D.expenses)||void 0===v?void 0:v.total)||0),line31:(null==D?void 0:D.net_income)||0}:null;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.default,{href:"/ledgers/".concat($),className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6",children:[(0,r.jsx)(a.Z,{className:"h-4 w-4"}),"Back to ledger"]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Reports"}),(0,r.jsx)("p",{className:"mt-1 text-muted-foreground",children:"Financial reports and tax exports"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("select",{value:O,onChange:e=>T(parseInt(e.target.value)),className:"px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[R,R-1,R-2].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]})]}),B?(0,r.jsx)("div",{className:"mt-8 flex items-center justify-center py-12",children:(0,r.jsx)(o.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mt-8 grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-blue-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-foreground",children:"Trial Balance"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"As of today"})]})]}),(null==z?void 0:z.success)!==!1?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Total Debits"}),(0,r.jsxs)("span",{className:"font-medium",children:["$",(null==z?void 0:null===(b=z.totals)||void 0===b?void 0:null===(j=b.total_debits)||void 0===j?void 0:j.toFixed(2))||"0.00"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Total Credits"}),(0,r.jsxs)("span",{className:"font-medium",children:["$",(null==z?void 0:null===(y=z.totals)||void 0===y?void 0:null===(g=y.total_credits)||void 0===g?void 0:g.toFixed(2))||"0.00"]})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-border flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:"Status"}),(0,r.jsx)("span",{className:(null==z?void 0:null===(N=z.totals)||void 0===N?void 0:N.is_balanced)?"text-green-500":"text-red-500",children:(null==z?void 0:null===(w=z.totals)||void 0===w?void 0:w.is_balanced)?"✓ Balanced":"✗ Unbalanced"})]})]}):(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No data available"}),(0,r.jsxs)("button",{onClick:()=>P("trial_balance","csv"),className:"mt-4 w-full flex items-center justify-center gap-2 px-3 py-2 border border-border rounded-md hover:bg-accent text-sm",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),"Export CSV"]})]}),(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"h-5 w-5 text-green-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-foreground",children:"Profit & Loss"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:O})]})]}),(null==D?void 0:D.success)!==!1?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Revenue"}),(0,r.jsxs)("span",{className:"font-medium text-green-500",children:["$",(null==D?void 0:null===(Z=D.revenue)||void 0===Z?void 0:null===(k=Z.total)||void 0===k?void 0:k.toFixed(2))||"0.00"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Expenses"}),(0,r.jsxs)("span",{className:"font-medium text-red-500",children:["$",(null==D?void 0:null===(C=D.expenses)||void 0===C?void 0:null===(_=C.total)||void 0===_?void 0:_.toFixed(2))||"0.00"]})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-border flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:"Net Income"}),(0,r.jsxs)("span",{className:"font-bold ".concat(((null==D?void 0:D.net_income)||0)>=0?"text-green-500":"text-red-500"),children:["$",(null==D?void 0:null===(F=D.net_income)||void 0===F?void 0:F.toFixed(2))||"0.00"]})]})]}):(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No data available"}),(0,r.jsxs)("button",{onClick:()=>P("profit_loss","csv"),className:"mt-4 w-full flex items-center justify-center gap-2 px-3 py-2 border border-border rounded-md hover:bg-accent text-sm",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),"Export CSV"]})]}),(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:(0,r.jsx)(d.Z,{className:"h-5 w-5 text-orange-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-foreground",children:"Cash Runway"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Projection"})]})]}),(null==I?void 0:I.success)!==!1?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Cash Balance"}),(0,r.jsxs)("span",{className:"font-medium",children:["$",(null==I?void 0:null===(M=I.current_cash)||void 0===M?void 0:M.toFixed(2))||"0.00"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Monthly Burn"}),(0,r.jsxs)("span",{className:"font-medium",children:["$",(null==I?void 0:null===(S=I.monthly_burn)||void 0===S?void 0:S.toFixed(2))||"0.00"]})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-border flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:"Runway"}),(0,r.jsx)("span",{className:"font-bold",children:(null==I?void 0:I.runway_months)?"".concat(I.runway_months," months"):"∞"})]})]}):(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No data available"})]})]}),U&&(0,r.jsxs)("div",{className:"mt-8 bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"h-5 w-5 text-purple-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-foreground",children:"Schedule C Summary"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[O," • Copy these values to your tax return"]})]})]}),(0,r.jsxs)("a",{href:"https://www.irs.gov/forms-pubs/about-schedule-c-form-1040",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-foreground flex items-center gap-1",children:["IRS Schedule C",(0,r.jsx)(x,{className:"h-3 w-3"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between py-2 px-3 bg-muted/50 rounded-md",children:[(0,r.jsxs)("span",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-mono text-muted-foreground",children:"Line 1"}),(0,r.jsx)("span",{className:"ml-2 text-foreground",children:"Gross receipts"})]}),(0,r.jsxs)("span",{className:"font-medium font-mono",children:["$",U.line1.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between py-2 px-3 bg-muted/50 rounded-md",children:[(0,r.jsxs)("span",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-mono text-muted-foreground",children:"Line 28"}),(0,r.jsx)("span",{className:"ml-2 text-foreground",children:"Total expenses"})]}),(0,r.jsxs)("span",{className:"font-medium font-mono",children:["$",U.line28.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between py-2 px-3 bg-foreground/5 rounded-md border border-border",children:[(0,r.jsxs)("span",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-mono text-muted-foreground",children:"Line 31"}),(0,r.jsx)("span",{className:"ml-2 font-medium text-foreground",children:"Net profit (or loss)"})]}),(0,r.jsxs)("span",{className:"font-bold font-mono ".concat(U.line31>=0?"text-green-500":"text-red-500"),children:["$",U.line31.toFixed(2)]})]})]}),(0,r.jsx)("p",{className:"mt-4 text-xs text-muted-foreground",children:"These figures are derived from your ledger transactions. Export detailed breakdowns below for your records or accountant."})]}),(null==D?void 0:null===(E=D.expenses)||void 0===E?void 0:E.by_category)&&Object.keys(D.expenses.by_category).length>0&&(0,r.jsxs)("div",{className:"mt-6 bg-card border border-border rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Expenses by Category"}),(0,r.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:Object.entries(D.expenses.by_category).sort((e,s)=>{let[,t]=e,[,r]=s;return r-t}).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 bg-muted/50 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground capitalize",children:s.replace(/_/g," ")}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:["$",t.toFixed(2)]})]},s)})})]}),(0,r.jsxs)("div",{className:"mt-6 bg-card border border-border rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"Export Data"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Download for your records, accountant, or to file via IRS Free File."}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-4",children:[(0,r.jsxs)("button",{onClick:()=>P("transactions","csv"),className:"flex items-center justify-center gap-2 px-4 py-3 border border-border rounded-md hover:bg-accent text-sm",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),"All Transactions"]}),(0,r.jsxs)("button",{onClick:()=>P("expenses","csv"),className:"flex items-center justify-center gap-2 px-4 py-3 border border-border rounded-md hover:bg-accent text-sm",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),"Expenses Only"]}),(0,r.jsxs)("button",{onClick:()=>P("1099_summary","csv"),className:"flex items-center justify-center gap-2 px-4 py-3 border border-border rounded-md hover:bg-accent text-sm",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),"1099 Summary"]}),(0,r.jsxs)("button",{onClick:()=>P("profit_loss","json"),className:"flex items-center justify-center gap-2 px-4 py-3 border border-border rounded-md hover:bg-accent text-sm",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),"Full JSON Export"]})]})]}),(0,r.jsx)("div",{className:"mt-6 bg-muted/30 border border-border rounded-lg p-4",children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,r.jsx)("strong",{className:"text-foreground",children:"Note:"})," Soledge provides accurate financial data for your records. To file taxes, export your Schedule C summary and enter the values into"," ",(0,r.jsx)("a",{href:"https://www.irs.gov/filing/free-file-do-your-federal-taxes-for-free",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"IRS Free File"}),", or send exports to your accountant."]})})]})]})}}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=1233)}),_N_E=e.O()}]);