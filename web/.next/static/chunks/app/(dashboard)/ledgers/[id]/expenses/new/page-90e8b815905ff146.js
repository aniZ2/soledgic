(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2238],{1186:function(e,r,n){Promise.resolve().then(n.bind(n,2332))},9205:function(e,r,n){"use strict";n.d(r,{Z:function(){return d}});var t=n(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.filter((e,r,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===r).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:i="",children:l,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:r,...a,width:s,height:s,stroke:n,strokeWidth:d?24*Number(c)/Number(s):c,className:o("lucide",i),...m},[...u.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(l)?l:[l]])}),d=(e,r)=>{let n=(0,t.forwardRef)((n,a)=>{let{className:d,...i}=n;return(0,t.createElement)(c,{ref:a,iconNode:r,className:o("lucide-".concat(s(e)),d),...i})});return n.displayName="".concat(e),n}},2660:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});let t=(0,n(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7689:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});let t=(0,n(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},7648:function(e,r,n){"use strict";n.d(r,{default:function(){return s.a}});var t=n(2972),s=n.n(t)},9376:function(e,r,n){"use strict";var t=n(5475);n.o(t,"usePathname")&&n.d(r,{usePathname:function(){return t.usePathname}}),n.o(t,"useRouter")&&n.d(r,{useRouter:function(){return t.useRouter}}),n.o(t,"useSearchParams")&&n.d(r,{useSearchParams:function(){return t.useSearchParams}})},2332:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return l}});var t=n(7437),s=n(2265),o=n(9376),a=n(7648),c=n(2660),d=n(7689);let i=[{code:"advertising",name:"Advertising",schedule_c_line:"8"},{code:"bank_fees",name:"Bank Fees",schedule_c_line:"27a"},{code:"commissions",name:"Commissions and Fees",schedule_c_line:"10"},{code:"contract_labor",name:"Contract Labor",schedule_c_line:"11"},{code:"depreciation",name:"Depreciation",schedule_c_line:"13"},{code:"insurance",name:"Insurance",schedule_c_line:"15"},{code:"interest_mortgage",name:"Interest - Mortgage",schedule_c_line:"16a"},{code:"interest_other",name:"Interest - Other",schedule_c_line:"16b"},{code:"legal_professional",name:"Legal and Professional Services",schedule_c_line:"17"},{code:"office_expense",name:"Office Expense",schedule_c_line:"18"},{code:"pension_profit_sharing",name:"Pension and Profit-Sharing Plans",schedule_c_line:"19"},{code:"rent_equipment",name:"Rent - Equipment",schedule_c_line:"20a"},{code:"rent_property",name:"Rent - Property",schedule_c_line:"20b"},{code:"repairs",name:"Repairs and Maintenance",schedule_c_line:"21"},{code:"supplies",name:"Supplies",schedule_c_line:"22"},{code:"taxes_licenses",name:"Taxes and Licenses",schedule_c_line:"23"},{code:"travel",name:"Travel",schedule_c_line:"24a"},{code:"meals",name:"Meals (50% deductible)",schedule_c_line:"24b"},{code:"utilities",name:"Utilities",schedule_c_line:"25"},{code:"wages",name:"Wages",schedule_c_line:"26"},{code:"software",name:"Software/SaaS",schedule_c_line:"27a"},{code:"hosting",name:"Hosting/Cloud Services",schedule_c_line:"27a"},{code:"domain_registration",name:"Domain Registration",schedule_c_line:"27a"},{code:"payment_processing",name:"Payment Processing Fees",schedule_c_line:"27a"},{code:"marketing",name:"Marketing",schedule_c_line:"8"},{code:"education",name:"Education/Training",schedule_c_line:"27a"},{code:"equipment",name:"Equipment (under $2500)",schedule_c_line:"27a"},{code:"home_office",name:"Home Office",schedule_c_line:"30"},{code:"vehicle",name:"Vehicle Expenses",schedule_c_line:"9"},{code:"other",name:"Other Expenses",schedule_c_line:"27a"}];function l(e){let{params:r}=e,{id:n}=(0,s.use)(r),[l,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[_,b]=(0,s.useState)(new Date().toISOString().split("T")[0]),[v,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(null),w=(0,o.useRouter)(),k=async e=>{e.preventDefault(),y(!0),N(null);try{let e=await fetch("/api/ledgers/".concat(n,"/expenses"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Math.round(100*parseFloat(l)),category_code:m,merchant_name:p,business_purpose:g,expense_date:_})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to record expense");w.push("/ledgers/".concat(n))}catch(e){N(e.message),y(!1)}};return(0,t.jsxs)("div",{className:"max-w-2xl",children:[(0,t.jsxs)(a.default,{href:"/ledgers/".concat(n),className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4"}),"Back to ledger"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Record Expense"}),(0,t.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Add a business expense with IRS category mapping."}),(0,t.jsxs)("div",{className:"mt-8 bg-card border border-border rounded-lg p-6",children:[j&&(0,t.jsx)("div",{className:"mb-6 p-3 bg-destructive/10 border border-destructive/20 rounded-md text-destructive text-sm",children:j}),(0,t.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-foreground mb-2",children:"Amount"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),(0,t.jsx)("input",{id:"amount",type:"number",step:"0.01",min:"0",value:l,onChange:e=>u(e.target.value),required:!0,className:"w-full pl-8 pr-4 py-3 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"0.00"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-foreground mb-2",children:"Date"}),(0,t.jsx)("input",{id:"date",type:"date",value:_,onChange:e=>b(e.target.value),required:!0,className:"w-full px-4 py-3 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),(0,t.jsxs)("select",{id:"category",value:m,onChange:e=>h(e.target.value),required:!0,className:"w-full px-4 py-3 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"",children:"Select a category"}),i.map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.name," (Line ",e.schedule_c_line,")"]},e.code))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"merchant",className:"block text-sm font-medium text-foreground mb-2",children:"Merchant / Vendor"}),(0,t.jsx)("input",{id:"merchant",type:"text",value:p,onChange:e=>f(e.target.value),required:!0,className:"w-full px-4 py-3 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"e.g., Amazon, Vercel, Adobe"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-foreground mb-2",children:"Business Purpose"}),(0,t.jsx)("textarea",{id:"description",value:g,onChange:e=>x(e.target.value),required:!0,rows:3,className:"w-full px-4 py-3 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"What was this expense for? Be specific for audit purposes."})]}),(0,t.jsxs)("div",{className:"border border-dashed border-border rounded-lg p-6 text-center",children:[(0,t.jsx)(d.Z,{className:"h-8 w-8 text-muted-foreground mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Receipt upload coming soon"})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{type:"submit",disabled:v||!l||!m||!p||!g,className:"flex-1 bg-primary text-primary-foreground py-3 rounded-md font-medium hover:bg-primary/90 disabled:opacity-50",children:v?"Recording...":"Record expense"}),(0,t.jsx)(a.default,{href:"/ledgers/".concat(n),className:"px-6 py-3 border border-border rounded-md text-foreground hover:bg-accent",children:"Cancel"})]})]})]})]})}}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=1186)}),_N_E=e.O()}]);