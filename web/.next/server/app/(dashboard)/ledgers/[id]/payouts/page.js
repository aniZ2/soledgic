(()=>{var e={};e.id=2559,e.ids=[2559],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},62999:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>i}),s(12075),s(15414),s(35866),s(32029);var r=s(23191),d=s(88716),a=s(37922),o=s.n(a),l=s(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(t,n);let i=["",{children:["(dashboard)",{children:["ledgers",{children:["[id]",{children:["payouts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,12075)),"/Users/osifo/Desktop/soledgic/web/src/app/(dashboard)/ledgers/[id]/payouts/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15414)),"/Users/osifo/Desktop/soledgic/web/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/Users/osifo/Desktop/soledgic/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/osifo/Desktop/soledgic/web/src/app/(dashboard)/ledgers/[id]/payouts/page.tsx"],x="/(dashboard)/ledgers/[id]/payouts/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:d.x.APP_PAGE,page:"/(dashboard)/ledgers/[id]/payouts/page",pathname:"/ledgers/[id]/payouts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},89838:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,79404,23))},39755:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(27162).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},68648:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(27162).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},14120:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(27162).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},74780:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(27162).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},12075:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(19510),d=s(65655),a=s(58585),o=s(57371),l=s(39755),n=s(94126),i=s(14120),c=s(68648),x=s(74780);async function m({params:e}){let{id:t}=await e,s=await (0,d.e)(),{data:m,error:u}=await s.from("ledgers").select("id, platform_name").eq("id",t).single();(u||!m)&&(0,a.notFound)();let{data:p}=await s.from("payouts").select(`
      *,
      account:accounts(entity_id)
    `).eq("ledger_id",t).order("created_at",{ascending:!1}),{data:h}=await s.from("accounts").select("id, entity_id, balance").eq("ledger_id",t).eq("account_type","creator_balance").gt("balance",0),g=h?.reduce((e,t)=>e+(t.balance||0),0)||0,f=p?.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.amount||0),0)||0;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(o.default,{href:`/ledgers/${t}`,className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6",children:[r.jsx(l.Z,{className:"h-4 w-4"}),"Back to ledger"]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Payouts"}),(0,r.jsxs)("p",{className:"mt-1 text-muted-foreground",children:[m.platform_name," â€¢ Creator payments"]})]}),(0,r.jsxs)(o.default,{href:`/ledgers/${t}/payouts/new`,className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:[r.jsx(n.Z,{className:"h-4 w-4"}),"New payout"]})]}),(0,r.jsxs)("div",{className:"mt-8 grid gap-6 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-muted-foreground text-sm",children:"Pending Payouts"}),r.jsx(i.Z,{className:"h-5 w-5 text-orange-500"})]}),(0,r.jsxs)("p",{className:"mt-2 text-3xl font-bold text-foreground",children:["$",(g/100).toFixed(2)]}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:[h?.length||0," creators with balance"]})]}),(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-muted-foreground text-sm",children:"Total Paid Out"}),r.jsx(c.Z,{className:"h-5 w-5 text-green-500"})]}),(0,r.jsxs)("p",{className:"mt-2 text-3xl font-bold text-foreground",children:["$",(f/100).toFixed(2)]}),r.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"All time"})]}),(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-muted-foreground text-sm",children:"Total Payouts"}),r.jsx(x.Z,{className:"h-5 w-5 text-blue-500"})]}),r.jsx("p",{className:"mt-2 text-3xl font-bold text-foreground",children:p?.length||0}),r.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Transactions"})]})]}),h&&h.length>0&&(0,r.jsxs)("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Pending Balances"}),r.jsx("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-border bg-muted/50",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Creator ID"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"Balance"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"Action"})]})}),r.jsx("tbody",{children:h.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border last:border-0",children:[r.jsx("td",{className:"py-3 px-4 font-mono text-sm text-foreground",children:e.entity_id}),(0,r.jsxs)("td",{className:"py-3 px-4 text-right font-medium text-foreground",children:["$",(e.balance/100).toFixed(2)]}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsx(o.default,{href:`/ledgers/${t}/payouts/new?creator=${e.entity_id}`,className:"text-sm text-primary hover:underline",children:"Pay out"})})]},e.id))})]})})]}),(0,r.jsxs)("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Payout History"}),p&&p.length>0?r.jsx("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-border bg-muted/50",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Creator"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Method"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Status"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"Amount"})]})}),r.jsx("tbody",{children:p.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border last:border-0 hover:bg-muted/30",children:[r.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm",children:new Date(e.created_at).toLocaleDateString()}),r.jsx("td",{className:"py-3 px-4 font-mono text-sm text-foreground",children:e.account?.entity_id||e.creator_account_id?.slice(0,8)}),r.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm capitalize",children:e.payout_method?.replace("_"," ")||"N/A"}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${"completed"===e.status?"bg-green-500/10 text-green-500":"pending"===e.status?"bg-yellow-500/10 text-yellow-500":"failed"===e.status?"bg-red-500/10 text-red-500":"bg-muted text-muted-foreground"}`,children:e.status})}),(0,r.jsxs)("td",{className:"py-3 px-4 text-right font-medium text-foreground",children:["$",(e.amount/100).toFixed(2)]})]},e.id))})]})}):(0,r.jsxs)("div",{className:"bg-card border border-border rounded-lg p-8 text-center",children:[r.jsx(x.Z,{className:"h-12 w-12 text-muted-foreground mx-auto"}),r.jsx("h3",{className:"mt-4 text-lg font-medium text-foreground",children:"No payouts yet"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Payouts will appear here once you start paying creators."})]})]})]})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,8513,9404,3786,9702,6918,6031],()=>s(62999));module.exports=r})();