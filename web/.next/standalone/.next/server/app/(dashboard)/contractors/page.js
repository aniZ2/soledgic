(()=>{var e={};e.id=989,e.ids=[989],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},72249:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>i}),r(18770),r(15414),r(35866),r(32029);var s=r(23191),a=r(88716),d=r(37922),n=r.n(d),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let i=["",{children:["(dashboard)",{children:["contractors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,18770)),"/Users/osifo/Desktop/soledgic/web/src/app/(dashboard)/contractors/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15414)),"/Users/osifo/Desktop/soledgic/web/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"/Users/osifo/Desktop/soledgic/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/osifo/Desktop/soledgic/web/src/app/(dashboard)/contractors/page.tsx"],m="/(dashboard)/contractors/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/contractors/page",pathname:"/contractors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},89838:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79404,23))},68648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(27162).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},50657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(27162).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},46707:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(27162).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},18770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(19510),a=r(65655),d=r(57371),n=r(94126),o=r(27162);let l=(0,o.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),i=(0,o.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var c=r(50657),m=r(68648),x=r(46707);async function p(){let e=await (0,a.e)(),{data:{user:t}}=await e.auth.getUser(),{data:r}=await e.from("organization_members").select("organization_id").eq("user_id",t?.id).eq("status","active"),o=r?.map(e=>e.organization_id)||[],{data:p}=await e.from("ledgers").select("id, platform_name").in("organization_id",o),u=p?.map(e=>e.id)||[],{data:h}=await e.from("contractors").select(`
      *,
      ledger:ledgers(platform_name)
    `).in("ledger_id",u).order("created_at",{ascending:!1}),g=new Date().getFullYear(),f=h?.filter(e=>(e.ytd_payments||0)>=100*600).length||0;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Contractors"}),s.jsx("p",{className:"mt-1 text-muted-foreground",children:"Track payments and generate 1099 data"})]}),(0,s.jsxs)(d.default,{href:"/contractors/new",className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:[s.jsx(n.Z,{className:"h-4 w-4"}),"Add contractor"]})]}),(0,s.jsxs)("div",{className:"mt-8 grid gap-6 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Contractors"}),s.jsx("p",{className:"text-3xl font-bold text-foreground mt-1",children:h?.length||0})]}),(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Need 1099-NEC"}),s.jsx("p",{className:"text-3xl font-bold text-amber-500 mt-1",children:f}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Paid â‰¥$600 in ",g]})]}),(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Filing Deadline"}),(0,s.jsxs)("p",{className:"text-xl font-bold text-foreground mt-1",children:["Jan 31, ",g+1]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["For ",g," payments"]})]})]}),s.jsx("div",{className:"mt-6 bg-muted/30 border border-border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[s.jsx(l,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),s.jsx("div",{className:"text-sm",children:(0,s.jsxs)("p",{className:"text-foreground",children:[s.jsx("strong",{children:"1099-NEC filing:"})," Soledge tracks payments and generates export data. To file, download the 1099 summary and submit via"," ",(0,s.jsxs)("a",{href:"https://www.irs.gov/filing/e-file-forms-1099",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["IRS FIRE system",s.jsx(i,{className:"h-3 w-3"})]})," ","or mail paper forms."]})})]})}),f>0&&s.jsx("div",{className:"mt-4",children:(0,s.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 border border-border rounded-md hover:bg-accent",children:[s.jsx(c.Z,{className:"h-4 w-4"}),"Export 1099-NEC Data (CSV)"]})}),s.jsx("div",{className:"mt-8",children:h&&h.length>0?s.jsx("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-border bg-muted/50",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Business"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Ledger"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"W-9"}),(0,s.jsxs)("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:[g," Payments"]}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"1099 Status"})]})}),s.jsx("tbody",{children:h.map(e=>{let t=e.ytd_payments||0;return(0,s.jsxs)("tr",{className:"border-b border-border last:border-0 hover:bg-muted/30",children:[s.jsx("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:e.business_name||"-"}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground text-sm",children:e.ledger?.platform_name}),s.jsx("td",{className:"py-3 px-4",children:e.w9_received?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-green-500 text-sm",children:[s.jsx(m.Z,{className:"h-4 w-4"}),"On file"]}):(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-amber-500 text-sm",children:[s.jsx(l,{className:"h-4 w-4"}),"Missing"]})}),(0,s.jsxs)("td",{className:"py-3 px-4 text-right font-medium text-foreground",children:["$",(t/100).toFixed(2)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:t>=6e4?s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-500/10 text-amber-500",children:"1099 Required"}):s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:"Under $600"})})]},e.id)})})]})}):(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg p-12 text-center",children:[s.jsx(x.Z,{className:"h-12 w-12 text-muted-foreground mx-auto"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-foreground",children:"No contractors yet"}),s.jsx("p",{className:"mt-2 text-muted-foreground max-w-sm mx-auto",children:"Add contractors to track payments and generate 1099 data at year-end."}),(0,s.jsxs)(d.default,{href:"/contractors/new",className:"mt-6 inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:[s.jsx(n.Z,{className:"h-4 w-4"}),"Add contractor"]})]})}),s.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"W-9 requirement:"})," Collect a W-9 from each contractor before paying them. Soledge tracks whether you've received it, but does not store tax ID numbers."]})})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,8513,9404,3786,9702,6918,6031],()=>r(72249));module.exports=s})();